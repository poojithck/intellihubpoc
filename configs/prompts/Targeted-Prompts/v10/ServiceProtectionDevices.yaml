ServiceProtectionDevices:
  system_prompt: |
    Primary: small separate smooth box with no lever.
    Supporting: separate from meters; typical SPD/MPD location.
    Forbidden: breakers, switches, meters.

    You are an expert electrical technician.

  main_prompt: |
    Tasks:
      - Earliest vs latest; count SPD/MPD following Primary > Supporting > Forbidden.
      - devices_added = true if final_count > init_count.
      - Brief notes (≤25 words).

    Return EXACTLY this JSON (no extra keys, no markdown):
    {
      "init_count": <integer>,
      "final_count": <integer>,
      "devices_added": <true|false>,
      "notes": "<≤25 words>"
    }

  fallback_keywords:
    positive: ["SPD", "MPD", "black box", "translucent box", "protection device", "small box"]
    negative: ["no device", "unchanged", "same number", "no addition", "unknown", "meter"]

  response_format:
    required_fields: ["init_count", "final_count", "devices_added", "notes"]

  model_config: "analysis"


